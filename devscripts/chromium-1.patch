--- licensecheck.pl.orig	2011-09-12 15:54:33.369133553 -0700
+++ licensecheck.pl	2011-09-12 16:53:51.189069386 -0700
@@ -406,7 +406,7 @@
 	$extrainfo = " (with Qt exception)$extrainfo"
     }
 
-    if ($licensetext =~ /(All changes made in this file will be lost|DO NOT (EDIT|delete this file)|Generated by)/i) {
+    if ($licensetext =~ /(All changes made in this file will be lost|DO NOT (EDIT|delete this file)|Generated (automatically|by|from)|generated.*file)/i) {
 	$license = "GENERATED FILE";
     }
 
@@ -437,7 +437,7 @@
 	$license = "QPL $license";
     }
 
-    if ($licensetext =~ /http:\/\/opensource\.org\/licenses\/mit-license\.php/) {
+    if ($licensetext =~ /opensource\.org\/licenses\/mit-license\.php/) {
 	$license = "MIT/X11 (BSD like) $license";
     } elsif ($licensetext =~ /Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files \(the Software\), to deal in the Software/) {
 	$license = "MIT/X11 (BSD like) $license";
@@ -459,6 +459,12 @@
 	}
     }
 
+    if ($licensetext =~ /Use of this source code is governed by a BSD-style license/) {
+        $license = "BSD-like $license";
+    } elsif ($licensetext =~ /BSD terms apply.*see.*COPYING.*for details/) {
+        $license = "BSD-like $license";
+    }
+
     if ($licensetext =~ /Mozilla Public License Version ([^ ]+)/) {
 	$license = "MPL (v$1) $license";
     }
@@ -495,7 +501,7 @@
 	$license = "SGI Free Software License B $license";
     }
 
-    if ($licensetext =~ /is in the public domain/i) {
+    if ($licensetext =~ /is.*in the public domain|disclaims copyright/i) {
 	$license = "Public domain";
     }
 
@@ -503,6 +509,10 @@
 	$license = "CDDL " . ($1 ? "(v$2) " : '') . $license;
     }
 
+    if ($licensetext =~ /Microsoft Permissive License \(Ms-PL\)/) {
+        $license = "Ms-PL $license";
+    }
+
     if ($licensetext =~ /Permission is hereby granted, free of charge, to any person or organization obtaining a copy of the software and accompanying documentation covered by this license \(the \"Software\"\)/ or
 	$licensetext =~ /Boost Software License([ ,-]+Version ([^ ]+)?(\.))/i) {
 	$license = "BSL " . ($1 ? "(v$2) " : '') . $license;
@@ -515,6 +525,8 @@
     if ($licensetext =~ /The origin of this software must not be misrepresented.*Altered source versions must be plainly marked as such.*This notice may not be removed or altered from any source distribution/ or
         $licensetext =~ /see copyright notice in zlib\.h/) {
 	$license = "zlib/libpng $license";
+    } elsif ($licensetext =~ /This code is released under the libpng license/) {
+        $license = "libpng $license";
     }
 
     if ($licensetext =~ /Do What The Fuck You Want To Public License, Version ([^, ]+)/i) {
