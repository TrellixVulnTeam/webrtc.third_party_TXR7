<!doctype html>
<meta charset="utf-8">
<script src="http://d3plus.org/js/d3.js"></script>
<script src="http://d3plus.org/js/d3plus.js"></script>
<script src="out/modules.js"></script>
<div id="viz"></div>

<script>
function getParameterByName(name, url) {
      if (!url) {
              url = window.location.href;
                  }
          name = name.replace(/[\[\]]/g, "\\$&");
              var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
                  results = regex.exec(url);
                  if (!results) return null;
                      if (!results[2]) return '';
                          return decodeURIComponent(results[2].replace(/\+/g, " "));
}

var visualization = d3plus.viz()
  .container("#viz")
  .type("rings")
  .edges(modules.map(([k, v])=> {return {source: k, target: v}}))
  .edges({"arrows": true})
  .focus(getParameterByName('id') || "sdk")
  .draw();
</script>
